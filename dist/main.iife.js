!function(){"use strict";!function(){const e=document.querySelector(".custom-cursor");if(!e)return;const t="https://cdn.prod.website-files.com/68f62fcbc64d17f90e046dfa/6905079459f55e8c6f5dcfbb_cursor-interact.avif";e.style.backgroundImage=`url(${t})`,document.addEventListener("mousemove",t=>{e.style.left=t.clientX+"px",e.style.top=t.clientY+2+"px"});document.querySelectorAll('a, button, input[type="submit"], input[type="button"], select, textarea, .clickable, [onclick]').forEach(n=>{n.addEventListener("mouseenter",()=>{e.style.backgroundImage="url(https://cdn.prod.website-files.com/68f62fcbc64d17f90e046dfa/690507948080bd9a825974f5_cursor-auto.avif)"}),n.addEventListener("mouseleave",()=>{e.style.backgroundImage=`url(${t})`})})}(),function(){function e(){const e=document.querySelector(".nav_1_btn_wrap"),t=document.querySelector(".nav_hamburguer-menu"),n=document.querySelector(".nav_hamburguer-exit");if(!e)return;if(!t||!n)return;function i(){e.classList.contains("w--open")||null!==document.querySelector(".w-nav-menu.w--open")||null!==document.querySelector(".w-nav-overlay.w--open")?(t.style.display="none",n.style.display="block"):(t.style.display="block",n.style.display="none")}i();const r=new MutationObserver(i);r.observe(e,{attributes:!0,attributeFilter:["class"]});const o=document.querySelector(".w-nav-overlay");if(o){new MutationObserver(i).observe(o,{attributes:!0,attributeFilter:["class"]})}const a=document.querySelector(".w-nav-menu");if(a){new MutationObserver(i).observe(a,{attributes:!0,attributeFilter:["class"]})}window.addEventListener("beforeunload",()=>{r.disconnect()})}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()}(),function(){function e(){return new Promise(e=>{const t=document.querySelector(".transition");if(!t)return void e();const n=window.getComputedStyle(t).getPropertyValue("grid-template-columns").split(" ").length,i=window.innerWidth/n,r=Math.ceil(window.innerHeight/i);t.style.gridTemplateRows=`repeat(${r}, ${i}px)`;const o=n*r;t.innerHTML="";const a=document.createDocumentFragment();for(let s=0;s<o;s++){const e=document.createElement("div");e.classList.add("transition-block"),a.appendChild(e)}t.appendChild(a),e()})}document.addEventListener("DOMContentLoaded",()=>{if("undefined"==typeof gsap)return;if(!document.querySelector(".transition"))return;e().then(()=>{gsap.timeline({onStart:()=>{gsap.set(".transition",{background:"transparent"})},onComplete:()=>{gsap.set(".transition",{display:"none"})},defaults:{ease:"linear"}}).to(".transition-block",{opacity:0,duration:.1,stagger:{amount:.75,from:"random"}},.5)});let t;Array.from(document.querySelectorAll("a")).filter(e=>{const t=e.getAttribute("href")||"";return new URL(e.href,window.location.origin).hostname===window.location.hostname&&!t.startsWith("#")&&"_blank"!==e.getAttribute("target")&&!e.hasAttribute("data-transition-prevent")}).forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const n=e.href;gsap.set(".transition",{display:"grid"}),gsap.fromTo(".transition-block",{autoAlpha:0},{autoAlpha:1,duration:.001,ease:"linear",stagger:{amount:.5,from:"random"},onComplete:()=>{window.location.href=n}})})}),window.addEventListener("pageshow",e=>{e.persisted&&window.location.reload()}),window.addEventListener("resize",()=>{clearTimeout(t),t=setTimeout(e,150)})})}(),function(){function e(){if("undefined"==typeof THREE)return;const e=()=>window.innerWidth<768,t={scanlineOpacity:.07,scanlineCount:2e3,barrelPower:1.006,barrelPowerMobile:1,vignetteStrength:.5,vignetteStrengthMobile:0,vignetteRadius:.7,vignetteRadiusMobile:0,beamIntensity:0,beamSpeed:0,glowSize:0,noiseAmount:.03,flickerAmount:.004,chromaticAberration:.1,brightness:1},n=new THREE.WebGLRenderer({alpha:!0,premultipliedAlpha:!1,antialias:!1});n.setSize(window.innerWidth,window.innerHeight),n.setPixelRatio(Math.min(window.devicePixelRatio,2)),n.setClearColor(0,0),n.domElement.style.cssText="\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      pointer-events: none;\n      z-index: 999999;\n    ",document.body.appendChild(n.domElement);const i=new THREE.Scene,r=new THREE.OrthographicCamera(-1,1,1,-1,0,1),o=new THREE.ShaderMaterial({uniforms:{time:{value:0},resolution:{value:new THREE.Vector2(window.innerWidth,window.innerHeight)},scanlineOpacity:{value:t.scanlineOpacity},scanlineCount:{value:t.scanlineCount},barrelPower:{value:e()?t.barrelPowerMobile:t.barrelPower},vignetteStrength:{value:t.vignetteStrength},vignetteRadius:{value:t.vignetteRadius},beamIntensity:{value:t.beamIntensity},beamSpeed:{value:t.beamSpeed},glowSize:{value:t.glowSize},noiseAmount:{value:t.noiseAmount},flickerAmount:{value:t.flickerAmount},chromaticAberration:{value:t.chromaticAberration},brightness:{value:t.brightness}},vertexShader:"\n        varying vec2 vUv;\n        void main() {\n          vUv = uv;\n          gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n        }\n      ",fragmentShader:"\n      precision highp float;\n\n      uniform float time;\n      uniform vec2 resolution;\n      uniform float scanlineOpacity;\n      uniform float scanlineCount;\n      uniform float barrelPower;\n      uniform float vignetteStrength;\n      uniform float vignetteRadius;\n      uniform float beamIntensity;\n      uniform float beamSpeed;\n      uniform float glowSize;\n      uniform float noiseAmount;\n      uniform float flickerAmount;\n      uniform float chromaticAberration;\n      uniform float brightness;\n\n      varying vec2 vUv;\n\n      vec2 barrelDistortion(vec2 coord, float power) {\n        vec2 cc = coord - 0.5;\n        float dist = dot(cc, cc);\n        return coord + cc * dist * power;\n      }\n\n      float noise(vec2 p) {\n        return fract(sin(dot(p, vec2(12.9898, 78.233))) * 43758.5453123);\n      }\n\n      float smoothNoise(vec2 p) {\n        vec2 i = floor(p);\n        vec2 f = fract(p);\n        f = f * f * (3.0 - 2.0 * f);\n\n        float a = noise(i);\n        float b = noise(i + vec2(1.0, 0.0));\n        float c = noise(i + vec2(0.0, 1.0));\n        float d = noise(i + vec2(1.0, 1.0));\n\n        return mix(mix(a, b, f.x), mix(c, d, f.x), f.y);\n      }\n\n      void main() {\n        vec2 uv = vUv;\n        vec2 distortedUV = barrelDistortion(uv, barrelPower - 1.0);\n\n        float edge = 0.0;\n        if (distortedUV.x < 0.0 || distortedUV.x > 1.0 ||\n            distortedUV.y < 0.0 || distortedUV.y > 1.0) {\n          edge = 1.0;\n        }\n\n        float scanline = sin(distortedUV.y * scanlineCount) * scanlineOpacity;\n\n        float beamPos = mod(time * beamSpeed, 1.0);\n        float beamDist = abs(distortedUV.y - beamPos);\n        float beam = smoothstep(glowSize, 0.0, beamDist) * beamIntensity;\n        float beamTrail = smoothstep(glowSize * 2.5, glowSize * 0.5, beamDist) * beamIntensity * 0.2;\n\n        float staticNoise = smoothNoise(distortedUV * 800.0 + time * 5.0) * noiseAmount;\n\n        vec2 position = distortedUV - 0.5;\n        float dist = length(position);\n        float vignette = smoothstep(vignetteRadius, vignetteRadius - 0.3, dist);\n        float edgeVignette = smoothstep(0.5, 0.7, dist) * vignetteStrength;\n\n        float flicker = sin(time * 100.0) * flickerAmount;\n\n        float darkness = 0.0;\n        darkness += scanline;\n        darkness += beam + beamTrail;\n        darkness += staticNoise;\n        darkness += edgeVignette;\n        darkness += flicker;\n\n        darkness *= vignette;\n        darkness = mix(darkness, 1.0, edge);\n        darkness *= brightness;\n\n          gl_FragColor = vec4(0.0, 0.0, 0.0, darkness);\n      }\n      ",transparent:!0,blending:THREE.NormalBlending,depthTest:!1,depthWrite:!1}),a=new THREE.PlaneGeometry(2,2),s=new THREE.Mesh(a,o);i.add(s),window.addEventListener("resize",function(){const i=window.innerWidth,r=window.innerHeight;n.setSize(i,r),o.uniforms.resolution.value.set(i,r),o.uniforms.barrelPower.value=e()?t.barrelPowerMobile:t.barrelPower}),function e(t){o.uniforms.time.value=.001*t,n.render(i,r),requestAnimationFrame(e)}(0),window.crtConfig=t,window.updateCRT=()=>{Object.keys(t).forEach(e=>{o.uniforms[e]&&(o.uniforms[e].value=t[e])}),o.uniforms.barrelPower.value=e()?t.barrelPowerMobile:t.barrelPower}}window.requestIdleCallback?requestIdleCallback(e,{timeout:2e3}):"complete"===document.readyState?setTimeout(e,100):window.addEventListener("load",()=>setTimeout(e,100))}(),window.addEventListener("DOMContentLoaded",()=>{"undefined"!=typeof gsap&&"undefined"!=typeof ScrollTrigger&&(gsap.registerPlugin(ScrollTrigger),document.querySelectorAll("[data-typewriter]").forEach(e=>{ScrollTrigger.create({trigger:e,start:"top 80%",once:!0,onEnter:()=>{!function(e,t=15){const n=(e.getAttribute("data-text")||e.textContent).split(""),i=e.offsetHeight,r=e.offsetWidth;e.style.minHeight=`${i}px`,e.style.minWidth=`${r}px`,e.style.display="inline-block",e.textContent="",e.style.visibility="visible";let o=0;setTimeout(function i(){if(o<n.length){e.textContent+=n[o],o++;const r=10*Math.random()-5;setTimeout(i,t+r)}},100)}(e,15)}})}))}),window.addEventListener("DOMContentLoaded",function(){if("undefined"==typeof gsap||"undefined"==typeof ScrollTrigger)return;const e=document.querySelector("[data-hero-title]");if(!e)return;const t=gsap.timeline({scrollTrigger:{trigger:e,start:"top 80%",once:!0}});gsap.set(e,{opacity:0,scale:1.2,filter:"brightness(0)"}),t.to(e,{opacity:1,filter:"brightness(3)",duration:.05}).to(e,{opacity:0,filter:"brightness(0)",duration:.03}).to(e,{opacity:1,filter:"brightness(3)",duration:.05}).to(e,{opacity:0,filter:"brightness(0)",duration:.03}).to(e,{opacity:1,filter:"brightness(3)",duration:.05}).to(e,{scale:1,filter:"brightness(1)",duration:.4,ease:"power2.out"}),gsap.fromTo(e,{opacity:1},{opacity:.4,duration:.7,repeat:-1,yoyo:!0,ease:"steps(1)",delay:2})}),document.addEventListener("DOMContentLoaded",()=>{"undefined"!=typeof gsap&&document.querySelectorAll("[data-pixel-burst]").forEach(e=>{e.addEventListener("click",e=>{!function(e,t){const n=["#ffff00","#ffaa00","#ff6600","#ffffff","#ffdd00"];for(let i=0;i<8;i++){const r=document.createElement("div"),o=45*i+(30*Math.random()-15),a=n[Math.floor(Math.random()*n.length)],s=Math.random()>.5?8:6;r.style.cssText=`\n          position: fixed;\n          width: ${s}px;\n          height: ${s}px;\n          background: ${a};\n          box-shadow: 0 0 4px ${a};\n          left: ${e}px;\n          top: ${t}px;\n          pointer-events: none;\n          z-index: 9999;\n        `,document.body.appendChild(r);const l=40+40*Math.random(),d=o*Math.PI/180;gsap.to(r,{x:Math.cos(d)*l,y:Math.sin(d)*l+20,opacity:0,scale:0,duration:.8,ease:"steps(8)",onComplete:()=>r.remove()})}}(e.clientX,e.clientY)})})}),function(){const e={storageKey:"emailGateSubmitted",expiryDays:7,hideDelay:4e3,animationDelay:300,triggerThreshold:.5,scrollThrottleMs:100},t={selector:".swiper-videos",navigation:{nextEl:'[data-swiper="next-video"]',prevEl:'[data-swiper="prev-video"]'},pagination:{el:'[data-swiper="pagination"]'},breakpoints:{478:{slidesPerView:1,spaceBetween:0},768:{slidesPerView:1,spaceBetween:0},992:{slidesPerView:1,spaceBetween:0}},slidesPerView:1,spaceBetween:0},n={selector:".swiper-cases",navigation:{nextEl:'[data-swiper="next-case"]',prevEl:'[data-swiper="prev-case"]'},pagination:{el:'[data-swiper="pagination-case"]'},breakpoints:{478:{slidesPerView:1,spaceBetween:16},768:{slidesPerView:1,spaceBetween:16},992:{slidesPerView:2,spaceBetween:16}},slidesPerView:1,spaceBetween:20};let i=null,r=!1;function o(e){const t={value:!0,expiry:(new Date).getTime()+24*e.expiryDays*60*60*1e3};try{return localStorage.setItem(e.storageKey,JSON.stringify(t)),!0}catch(n){return console.error("❌ Failed to save:",n),!1}}function a(e,t){if(void 0===window.Swiper)return null;const n=document.querySelector(e.selector);if(!n)return null;if("true"===n.dataset.swiperInitialized&&n.swiper)return n.swiper;const i={slidesPerView:e.slidesPerView,spaceBetween:e.spaceBetween,loop:!1,speed:600,navigation:{nextEl:e.navigation.nextEl,prevEl:e.navigation.prevEl,disabledClass:"is-disabled"},pagination:{el:e.pagination.el,clickable:!0,bulletClass:"swiper_bullet",bulletActiveClass:"is-active",renderBullet:function(e,t){return`<button class="${t}" aria-label="Slide ${e+1}"></button>`}},breakpoints:e.breakpoints,keyboard:{enabled:!0},watchOverflow:!0};try{const e=new window.Swiper(n,i);return n.dataset.swiperInitialized="true",e}catch(r){return console.error(`❌ Swiper (${t}) failed to initialize`,r),null}}function s(){const t=document.querySelector("[data-hero-section]"),n=document.querySelector("[data-email-gate]"),i=null==n?void 0:n.querySelector(".gate_form-block.w-form"),r=null==n?void 0:n.querySelector(".gate_sucess.w-form-done");if(!t||!n||!i)return void console.error("❌ Missing required elements");if(function(e){try{const t=localStorage.getItem(e.storageKey);if(!t)return!1;if("true"===t)return o(e),!0;const n=JSON.parse(t);return(new Date).getTime()>n.expiry?(localStorage.removeItem(e.storageKey),!1):!0===n.value}catch(t){return!1}}(e))return void(n.style.display="none");let a,s=0,l=!1,d=!1;n.style.display="none",window.showEmailGate=()=>{s=window.pageYOffset||document.documentElement.scrollTop,n.style.display="flex",document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.width="100%",document.body.style.top=`-${s}px`,requestAnimationFrame(()=>{requestAnimationFrame(()=>{n.classList.add("active")})})},window.hideEmailGate=()=>{n.classList.remove("active"),setTimeout(()=>{n.style.display="none",document.body.style.removeProperty("overflow"),document.body.style.removeProperty("position"),document.body.style.removeProperty("width"),document.body.style.removeProperty("top"),window.scrollTo({top:s,behavior:"auto"})},e.animationDelay)},window.handleEmailSuccess=()=>{d||(d=!0,o(e),setTimeout(()=>{window.hideEmailGate()},e.hideDelay))};const u=new MutationObserver(()=>{if(d)return;const e=i.classList.contains("w-form-done"),t=!!r&&"none"!==window.getComputedStyle(r).display;(e||t)&&(window.handleEmailSuccess(),u.disconnect())});u.observe(i,{attributes:!0,attributeFilter:["style","class"]}),r&&u.observe(r,{attributes:!0,attributeFilter:["style","class"]});const c=()=>{if(d)return;const e=i.classList.contains("w-form-done"),t=!!r&&"none"!==window.getComputedStyle(r).display;(e||t)&&(window.handleEmailSuccess(),a&&clearInterval(a))},f=()=>{if(l)return;const n=t.getBoundingClientRect(),i=window.innerHeight*e.triggerThreshold;n.bottom<=i&&(l=!0,window.showEmailGate(),a=setInterval(c,300),window.removeEventListener("scroll",p),window.removeEventListener("wheel",p),window.removeEventListener("touchmove",p))},p=function(e,t){let n;return function(...i){n||(e.apply(this,i),n=!0,setTimeout(()=>n=!1,t))}}(f,e.scrollThrottleMs);window.addEventListener("scroll",p,{passive:!0}),window.addEventListener("wheel",p,{passive:!0}),window.addEventListener("touchmove",p,{passive:!0}),f()}function l(){a(t,"videos"),a(n,"cases")}function d(e=0){if(void 0===window.Swiper)return e>=10?void console.error("❌ Swiper library not found after waiting"):void setTimeout(()=>d(e+1),200);l(),i||"undefined"==typeof MutationObserver||(i=new MutationObserver(()=>{l()}),i.observe(document.body,{childList:!0,subtree:!0}))}!function(){window.addEventListener("load",s);const e=()=>{r||(r=!0,d())};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e(),window.addEventListener("load",e)}()}(),function(){function e(){var e=document.querySelectorAll("[data-bunny-player-init]");function t(e){return(e<10?"0":"")+e}function n(e){if(!isFinite(e)||e<0)return"00:00";var n=Math.floor(e),i=Math.floor(n/3600),r=Math.floor(n%3600/60),o=n%60;return i>0?i+":"+t(r)+":"+t(o):t(r)+":"+t(o)}function i(e,t){e.forEach(function(e){e.textContent=t})}function r(e){return e&&e.length?e.reduce(function(e,t){return(t.width||0)>(e.width||0)?t:e},e[0]):null}function o(e){var t=e.play();t&&"function"==typeof t.then&&t.catch(function(){})}function a(e,t){t||"true"===e.getAttribute("data-player-activated")||"idle"!==e.getAttribute("data-player-status")||e.setAttribute("data-player-status","ready")}function s(e,t,n,i){if("true"===t&&n&&i){var r=e.querySelector("[data-player-before]");r&&(r.style.paddingTop=i/n*100+"%")}}function l(e,t,n){if("true"===t){var i=e.querySelector("[data-player-before]");if(i)!(i.style.paddingTop&&"0%"!==i.style.paddingTop)&&n.videoWidth&&n.videoHeight&&s(e,t,n.videoWidth,n.videoHeight)}}0!==e.length&&e.forEach(function(e){var t=e.getAttribute("data-player-src");if(t){var d=e.querySelector("video");if(d){try{d.paused||d.pause()}catch(J){}if(d.src&&d.src!==t)try{d.removeAttribute("src"),d.load()}catch(J){}e.hasAttribute("data-player-activated")||_(!1),e.hasAttribute("data-player-status")||I("idle");var u=e.querySelector("[data-player-timeline]"),c=e.querySelector("[data-player-progress]"),f=e.querySelector("[data-player-buffered]"),p=e.querySelector("[data-player-timeline-handle]"),m=e.querySelectorAll("[data-player-time-duration]"),v=e.querySelectorAll("[data-player-time-progress]"),w=e.getAttribute("data-player-update-size"),y=e.getAttribute("data-player-lazy"),g="true"===y,h="meta"===y,b="true"===e.getAttribute("data-player-autoplay"),E="true"===e.getAttribute("data-player-muted"),L=!1;b?(V(!0),d.loop=!0):V(E),d.setAttribute("muted",""),d.setAttribute("playsinline",""),d.setAttribute("webkit-playsinline",""),d.playsInline=!0,void 0!==d.disableRemotePlayback&&(d.disableRemotePlayback=!0),b&&(d.autoplay=!1);var S=!!d.canPlayType("application/vnd.apple.mpegurl"),A=!(!window.Hls||!Hls.isSupported()||S);if("true"===w&&!h)if(g);else{var k=d.preload;d.preload="metadata";var x=function(){s(e,w,d.videoWidth,d.videoHeight),d.removeEventListener("loadedmetadata",x),d.preload=k||""};d.addEventListener("loadedmetadata",x,{once:!0}),d.src=t}var T,P,M=!1;if(h?(function(e,t){return new Promise(function(n){if(t&&window.Hls&&Hls.isSupported())try{var i=new Hls,o={width:0,height:0,duration:NaN};return i.on(Hls.Events.MANIFEST_PARSED,function(e,t){var n=r(t&&t.levels||i.levels||[]);n&&n.width&&n.height&&(o.width=n.width,o.height=n.height)}),i.on(Hls.Events.LEVEL_LOADED,function(e,t){t&&t.details&&isFinite(t.details.totalduration)&&(o.duration=t.details.totalduration)}),i.on(Hls.Events.ERROR,function(){try{i.destroy()}catch(e){}n(o)}),i.on(Hls.Events.LEVEL_LOADED,function(){try{i.destroy()}catch(e){}n(o)}),void i.loadSource(e)}catch(l){return void n({width:0,height:0,duration:NaN})}function a(e){for(var t=e.split(/\r?\n/),n=0,i=0,r=null,o=null,a=0;a<t.length;a++){var s=t[a];if(0===s.indexOf("#EXT-X-STREAM-INF:"))o=s;else if(o&&s&&"#"!==s[0]){r||(r=s.trim());var l=/RESOLUTION=(\d+)x(\d+)/.exec(o);if(l){var d=parseInt(l[1],10),u=parseInt(l[2],10);d>n&&(n=d,i=u)}o=null}}return{bestW:n,bestH:i,media:r}}function s(e){for(var t,n=0,i=/#EXTINF:([\d.]+)/g;t=i.exec(e);)n+=parseFloat(t[1]);return n}fetch(e,{credentials:"omit",cache:"no-store"}).then(function(e){if(!e.ok)throw new Error("master");return e.text()}).then(function(t){var i=a(t);if(i.media){var r=function(e,t){try{return new URL(t,e).toString()}catch(l){return t}}(e,i.media);return fetch(r,{credentials:"omit",cache:"no-store"}).then(function(e){if(!e.ok)throw new Error("media");return e.text()}).then(function(e){n({width:i.bestW||0,height:i.bestH||0,duration:s(e)})})}n({width:i.bestW||0,height:i.bestH||0,duration:NaN})}).catch(function(){n({width:0,height:0,duration:NaN})})})}(t,A).then(function(t){t.width&&t.height&&s(e,w,t.width,t.height),m.length&&isFinite(t.duration)&&t.duration>0&&i(m,n(t.duration)),a(e,L)}),d.preload="none"):g?d.preload="none":N(),document.addEventListener("fullscreenchange",function(){B(z())}),document.addEventListener("webkitfullscreenchange",function(){B(z())}),d.addEventListener("webkitbeginfullscreen",function(){B(!0)}),d.addEventListener("webkitendfullscreen",function(){B(!1)}),e.addEventListener("click",function(t){var n=t.target.closest("[data-player-control]");if(n&&e.contains(n)){var i=n.getAttribute("data-player-control");"play"===i||"pause"===i||"playpause"===i?d.paused||d.ended?(!g&&!h||M||N(),L=!0,I("loading"),o(d)):d.pause():"mute"===i?(d.muted=!d.muted,e.setAttribute("data-player-muted",d.muted?"true":"false")):"fullscreen"===i&&W()}}),d.addEventListener("timeupdate",U),d.addEventListener("loadedmetadata",function(){U(),l(e,w,d)}),d.addEventListener("loadeddata",function(){l(e,w,d)}),d.addEventListener("playing",function(){l(e,w,d)}),d.addEventListener("durationchange",U),d.addEventListener("progress",G),d.addEventListener("loadedmetadata",G),d.addEventListener("durationchange",G),d.addEventListener("play",function(){_(!0),cancelAnimationFrame(T),X(),I("playing")}),d.addEventListener("playing",function(){L=!1,I("playing")}),d.addEventListener("pause",function(){L=!1,cancelAnimationFrame(T),$(),I("paused")}),d.addEventListener("waiting",function(){I("loading")}),d.addEventListener("canplay",function(){a(e,L)}),d.addEventListener("ended",function(){L=!1,cancelAnimationFrame(T),$(),I("paused"),_(!1)}),d.addEventListener("error",function(e){console.error("❌ Bunny Player: Video error",e),console.error("❌ Bunny Player: Error code:",d.error?d.error.code:"unknown"),console.error("❌ Bunny Player: Error message:",d.error?d.error.message:"unknown"),I("error")}),d.addEventListener("loadstart",function(){I("loading")}),d.addEventListener("loadeddata",function(){}),u){let t=function(e){D||(D=u.getBoundingClientRect());var t=(e-D.left)/D.width;return t<0&&(t=0),t>1&&(t=1),t},r=function(e){if(d.duration){var t=100*e;c&&(c.style.transform="translateX("+(-100+t)+"%)"),p&&(p.style.left=t+"%"),v.length&&i(v,n(e*d.duration))}},a=function(e){d.duration&&(e-q<F||(q=e,d.currentTime=H))},s=function(n){if(d.duration){R=!0,(C=!d.paused&&!d.ended)&&d.pause(),e.setAttribute("data-timeline-drag","true"),D=u.getBoundingClientRect();var i=t(n.clientX);H=i*d.duration,r(i),a(performance.now()),u.setPointerCapture&&u.setPointerCapture(n.pointerId),window.addEventListener("pointermove",l,{passive:!1}),window.addEventListener("pointerup",f,{passive:!0}),n.preventDefault()}},l=function(e){if(R){var n=t(e.clientX);H=n*d.duration,r(n),a(performance.now()),e.preventDefault()}},f=function(){R&&(R=!1,e.setAttribute("data-timeline-drag","false"),D=null,d.currentTime=H,C?o(d):($(),U()),window.removeEventListener("pointermove",l),window.removeEventListener("pointerup",f))};var R=!1,C=!1,H=0,q=0,F=180,D=null;window.addEventListener("resize",function(){R||(D=null)}),u.addEventListener("pointerdown",s,{passive:!1}),p&&p.addEventListener("pointerdown",s,{passive:!1})}e.addEventListener("pointerdown",Y),document.addEventListener("fullscreenchange",Y),document.addEventListener("webkitfullscreenchange",Y);var O=!1;if(e.addEventListener("pointerenter",function(){Y(),O||(O=!0,window.addEventListener("pointermove",j,{passive:!0}))}),e.addEventListener("pointerleave",function(){K("idle"),clearTimeout(P),O&&(O=!1,window.removeEventListener("pointermove",j))}),b)new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting&&e.intersectionRatio>0?(!g&&!h||M||N(),d.paused?(L=!0,I("loading"),o(d)):I("playing")):d.paused||d.ended||(d.pause(),I("paused"))})},{threshold:.1}).observe(e)}}function I(t){e.getAttribute("data-player-status")!==t&&e.setAttribute("data-player-status",t)}function V(t){d.muted=!!t,e.setAttribute("data-player-muted",d.muted?"true":"false")}function B(t){e.setAttribute("data-player-fullscreen",t?"true":"false")}function _(t){e.setAttribute("data-player-activated",t?"true":"false")}function N(){if(!M){if(M=!0,e._hls){try{e._hls.destroy()}catch(J){}e._hls=null}if(S)d.preload=g||h?"auto":d.preload,d.src=t,d.addEventListener("loadedmetadata",function(){a(e,L),"true"===w&&s(e,w,d.videoWidth,d.videoHeight),m.length&&i(m,n(d.duration))},{once:!0});else if(A)try{var o=new Hls({maxBufferLength:10});o.attachMedia(d),o.on(Hls.Events.MEDIA_ATTACHED,function(){o.loadSource(t)}),o.on(Hls.Events.MANIFEST_PARSED,function(){if(a(e,L),"true"===w){var t=r(o.levels||[]);t&&t.width&&t.height&&s(e,w,t.width,t.height)}}),o.on(Hls.Events.LEVEL_LOADED,function(e,t){t&&t.details&&isFinite(t.details.totalduration)&&m.length&&i(m,n(t.details.totalduration))}),o.on(Hls.Events.ERROR,function(e,t){if(console.error("❌ Bunny Player: HLS error",t),t.fatal)switch(t.type){case Hls.ErrorTypes.NETWORK_ERROR:console.error("❌ Bunny Player: Network error, trying to recover"),o.startLoad();break;case Hls.ErrorTypes.MEDIA_ERROR:console.error("❌ Bunny Player: Media error, trying to recover"),o.recoverMediaError();break;default:console.error("❌ Bunny Player: Fatal error, destroying HLS"),o.destroy()}}),e._hls=o}catch(J){console.error("❌ Bunny Player: Error initializing HLS:",J),d.src=t}else d.src=t}}function z(){return!(!document.fullscreenElement&&!document.webkitFullscreenElement)}function W(){z()||d.webkitDisplayingFullscreen?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():d.webkitDisplayingFullscreen&&"function"==typeof d.webkitExitFullscreen&&d.webkitExitFullscreen():e.requestFullscreen?e.requestFullscreen():d.requestFullscreen?d.requestFullscreen():d.webkitSupportsFullscreen&&"function"==typeof d.webkitEnterFullscreen&&d.webkitEnterFullscreen()}function U(){m.length&&i(m,n(d.duration)),v.length&&i(v,n(d.currentTime))}function $(){if(d.duration){var e=d.currentTime/d.duration*100;c&&(c.style.transform="translateX("+(-100+e)+"%)"),p&&(p.style.left=e+"%")}}function X(){$(),d.paused||d.ended||(T=requestAnimationFrame(X))}function G(){if(f&&d.duration&&d.buffered.length){var e=d.buffered.end(d.buffered.length-1)/d.duration*100;f.style.transform="translateX("+(-100+e)+"%)"}}function K(t){e.getAttribute("data-player-hover")!==t&&e.setAttribute("data-player-hover",t)}function Y(){K("active"),clearTimeout(P),P=setTimeout(function(){K("idle")},3e3)}function j(t){var n=e.getBoundingClientRect();t.clientX>=n.left&&t.clientX<=n.right&&t.clientY>=n.top&&t.clientY<=n.bottom&&Y()}})}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){e()}):e()}()}();
